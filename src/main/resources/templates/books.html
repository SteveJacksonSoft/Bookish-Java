<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Bookish - Books</title>

    <link rel="stylesheet" href="/styles/general.css"/>
    <link rel="stylesheet" href="/styles/navbar.css"/>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.css"/>
</head>
<body>
    <div th:replace="fragments/navbar :: navbar"></div>

    <div class="container">
        <div class="alert alert-danger alert-dismissible" role="alert" th:if="${model.isError()}">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>Error!</strong> Something went wrong.
        </div>
        <form th:action="@{/books/add-book}" method="post">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">ISBN</th>
                        <th scope="col">Title</th>
                        <th scope="col">Author</th>
                    </tr>
                </thead>
                <tbody>
                    <th:block th:each="book: ${model.books}">
                        <tr>
                            <th scope="row" th:text="${book.isbn}"></th>
                            <td th:text="${book.title}"></td>
                            <td th:text="${book.authors}"></td>
                            <td>
                                <button type="button" class="btn btn-default">
                                    <span>Edit</span>
                                    <!--TODO: add functionality - button to redirect to edit form-->
                                </button>
                            </td>
                        </tr>
                    </th:block>
                    <tr>
                        <td>
                            <input type="text" placeholder="ISBN" name="isbn">
                        </td>
                        <td>
                            <input type="text" placeholder="Title" name="title">
                        </td>
                        <td>
                            <input type="text" placeholder="Author(s) (separated by commas)" name="authors">
                        </td>
                        <td>
                            <input type="submit" value="Add new book" class="btn btn-default">
                                <!--TODO: add functionality - form to add book-->
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>

    </div>
</body>
</html>